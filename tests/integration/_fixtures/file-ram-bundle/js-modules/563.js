__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,'__esModule',{value:!0});var t=['localhost',/^\/(?!\/)/],n={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:t,tracePropagationTargets:t};function s(t){var n=t.data.url,s=new PerformanceObserver((function(o){o.getEntries().forEach((function(o){'fetch'!==o.initiatorType&&'xmlhttprequest'!==o.initiatorType||!o.name.endsWith(n)||(u(o).forEach((function(n){return t.setData.apply(t,r(d[1])(n))})),s.disconnect())}))}));s.observe({entryTypes:['resource']})}function o(t){var n='unknown',s='unknown',o='';for(var c of t){if('/'===c){var u=t.split('/'),p=r(d[2])(u,2);n=p[0],s=p[1];break}if(!isNaN(Number(c))){n='h'===o?'http':o,s=t.split(o)[1];break}o+=c}return o===t&&(n=o),{name:n,version:s}}function c(t){return((r(d[0]).browserPerformanceTimeOrigin||performance.timeOrigin)+t)/1e3}function u(t){var n=o(t.nextHopProtocol),s=n.name,u=n.version,p=[];return p.push(['network.protocol.version',u],['network.protocol.name',s]),r(d[0]).browserPerformanceTimeOrigin?[].concat(p,[['http.request.redirect_start',c(t.redirectStart)],['http.request.fetch_start',c(t.fetchStart)],['http.request.domain_lookup_start',c(t.domainLookupStart)],['http.request.domain_lookup_end',c(t.domainLookupEnd)],['http.request.connect_start',c(t.connectStart)],['http.request.secure_connection_start',c(t.secureConnectionStart)],['http.request.connection_end',c(t.connectEnd)],['http.request.request_start',c(t.requestStart)],['http.request.response_start',c(t.responseStart)],['http.request.response_end',c(t.responseEnd)]]):p}function p(n,s){return r(d[0]).stringMatchesSomePattern(n,s||t)}function h(t,n,s,o){if(r(d[3]).hasTracingEnabled()&&t.fetchData){var c=n(t.fetchData.url);if(!t.endTimestamp||!c){var u=r(d[3]).getCurrentHub(),p=u.getScope(),h=u.getClient(),_=p.getSpan(),l=t.fetchData,v=l.method,y=l.url,T=c&&_?_.startChild({data:{url:y,type:'fetch','http.method':v},description:`${v} ${y}`,op:'http.client'}):void 0;if(T&&(t.fetchData.__span=T.spanId,o[T.spanId]=T),s(t.fetchData.url)&&h){var S=t.args[0];t.args[1]=t.args[1]||{};var H=t.args[1];H.headers=f(S,h,p,H,T)}return T}var E=t.fetchData.__span;if(!E)return;var A=o[E];if(A){if(t.response){A.setHttpStatus(t.response.status);var b=t.response&&t.response.headers&&t.response.headers.get('content-length'),q=parseInt(b);q>0&&A.setData('http.response_content_length',q)}else t.error&&A.setStatus('internal_error');A.finish(),delete o[E]}}}function f(t,n,s,o,c){var u=c||s.getSpan(),p=u&&u.transaction,h=s.getPropagationContext(),f=h.traceId,_=h.sampled,l=h.dsc,v=u?u.toTraceparent():r(d[0]).generateSentryTraceHeader(f,void 0,_),y=p?p.getDynamicSamplingContext():l||r(d[3]).getDynamicSamplingContextFromClient(f,n,s),T=r(d[0]).dynamicSamplingContextToSentryBaggageHeader(y),S='undefined'!=typeof Request&&r(d[0]).isInstanceOf(t,Request)?t.headers:o.headers;if(S){if('undefined'!=typeof Headers&&r(d[0]).isInstanceOf(S,Headers)){var H=new Headers(S);return H.append('sentry-trace',v),T&&H.append(r(d[0]).BAGGAGE_HEADER_NAME,T),H}if(Array.isArray(S)){var E=[].concat(r(d[1])(S),[['sentry-trace',v]]);return T&&E.push([r(d[0]).BAGGAGE_HEADER_NAME,T]),E}var A='baggage'in S?S.baggage:void 0,b=[];return Array.isArray(A)?b.push.apply(b,r(d[1])(A)):A&&b.push(A),T&&b.push(T),Object.assign({},S,{'sentry-trace':v,baggage:b.length>0?b.join(','):void 0})}return{'sentry-trace':v,baggage:T}}function _(t,n,s,o){var c=t.xhr,u=c&&c[r(d[0]).SENTRY_XHR_DATA_KEY];if(!(!r(d[3]).hasTracingEnabled()||c&&c.__sentry_own_request__)&&c&&u){var p=n(u.url);if(!t.endTimestamp||!p){var h=r(d[3]).getCurrentHub(),f=h.getScope(),_=f.getSpan(),v=p&&_?_.startChild({data:Object.assign({},u.data,{type:'xhr','http.method':u.method,url:u.url}),description:`${u.method} ${u.url}`,op:'http.client'}):void 0;if(v&&(c.__sentry_xhr_span_id__=v.spanId,o[c.__sentry_xhr_span_id__]=v),c.setRequestHeader&&s(u.url))if(v){var y=v&&v.transaction,T=y&&y.getDynamicSamplingContext(),S=r(d[0]).dynamicSamplingContextToSentryBaggageHeader(T);l(c,v.toTraceparent(),S)}else{var H=h.getClient(),E=f.getPropagationContext(),A=E.traceId,b=E.sampled,q=E.dsc,C=r(d[0]).generateSentryTraceHeader(A,void 0,b),R=q||(H?r(d[3]).getDynamicSamplingContextFromClient(A,H,f):void 0);l(c,C,r(d[0]).dynamicSamplingContextToSentryBaggageHeader(R))}return v}var x=c.__sentry_xhr_span_id__;if(!x)return;var D=o[x];D&&(D.setHttpStatus(u.status_code),D.finish(),delete o[x])}}function l(t,n,s){try{t.setRequestHeader('sentry-trace',n),s&&t.setRequestHeader(r(d[0]).BAGGAGE_HEADER_NAME,s)}catch(t){}}e.DEFAULT_TRACE_PROPAGATION_TARGETS=t,e.addTracingHeadersToFetchRequest=f,e.defaultRequestInstrumentationOptions=n,e.extractNetworkProtocol=o,e.fetchCallback=h,e.instrumentOutgoingRequests=function(t){var o=Object.assign({traceFetch:n.traceFetch,traceXHR:n.traceXHR},t),c=o.traceFetch,u=o.traceXHR,f=o.tracePropagationTargets,l=o.tracingOrigins,v=o.shouldCreateSpanForRequest,y=o.enableHTTPTimings,T='function'==typeof v?v:function(t){return!0},S=function(t){return p(t,f||l)},H={};c&&r(d[0]).addInstrumentationHandler('fetch',(function(t){var n=h(t,T,S,H);y&&n&&s(n)})),u&&r(d[0]).addInstrumentationHandler('xhr',(function(t){var n=_(t,T,S,H);y&&n&&s(n)}))},e.shouldAttachHeaders=p,e.xhrCallback=_}),563,[426,429,439,483]);