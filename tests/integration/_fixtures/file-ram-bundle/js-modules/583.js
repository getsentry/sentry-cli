__d((function(g,r,_i,a,m,_e,d){Object.defineProperty(_e,'__esModule',{value:!0});var e=1e6,t=String(0),n='',i='',o='',s=r(d[0]).WINDOW.navigator&&r(d[0]).WINDOW.navigator.userAgent||'',l='',f=r(d[0]).WINDOW.navigator&&r(d[0]).WINDOW.navigator.language||r(d[0]).WINDOW.navigator&&r(d[0]).WINDOW.navigator.languages&&r(d[0]).WINDOW.navigator.languages[0]||'';var u,c=r(d[0]).WINDOW.navigator&&r(d[0]).WINDOW.navigator.userAgentData;function _(e){return!('thread_metadata'in e)}function p(e){return _(e)?y(e):e}function v(e){var t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return'string'==typeof t&&32!==t.length&&('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[1]).logger.log(`[Profiling] Invalid traceId: ${t} on profiled event`),'string'!=typeof t?'':t}function h(e,u,c){if('transaction'!==e.type)throw new TypeError('Profiling events may only be attached to transactions, this should never occur.');if(null==u)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${u} instead.`);var _=v(e),h=p(u),y='number'==typeof e.start_timestamp?1e3*e.start_timestamp:Date.now(),E='number'==typeof e.timestamp?1e3*e.timestamp:Date.now();return{event_id:c,timestamp:new Date(y).toISOString(),platform:'javascript',version:'1',release:e.release||'',environment:e.environment||r(d[2]).DEFAULT_ENVIRONMENT,runtime:{name:'javascript',version:r(d[0]).WINDOW.navigator.userAgent},os:{name:n,version:i,build_number:s},device:{locale:f,model:l,manufacturer:s,architecture:o,is_emulator:!1},debug_meta:{images:b(u.resources)},profile:h,transactions:[{name:e.transaction||'',id:e.event_id||r(d[1]).uuid4(),trace_id:_,active_thread_id:t,relative_start_ns:'0',relative_end_ns:(1e6*(E-y)).toFixed(0)}]}}function y(n){var i=void 0,o=0,s={samples:[],stacks:[],frames:[],thread_metadata:r(d[3])({},t,{name:"main"})};if(!n.samples.length)return s;for(var l=n.samples[0].timestamp,f='number'==typeof performance.timeOrigin?performance.timeOrigin:r(d[1]).browserPerformanceTimeOrigin||0,u=f-(r(d[1]).browserPerformanceTimeOrigin||f),c=0;c<n.samples.length;c++){var _=n.samples[c];if(void 0!==_.stackId){for(var p=n.stacks[_.stackId],v=[];p;){v.push(p.frameId);var h=n.frames[p.frameId];void 0===s.frames[p.frameId]&&(s.frames[p.frameId]={function:h.name,abs_path:'number'==typeof h.resourceId?n.resources[h.resourceId]:void 0,lineno:h.line,colno:h.column}),p=void 0===p.parentId?void 0:n.stacks[p.parentId]}var y={elapsed_since_start_ns:((_.timestamp+u-l)*e).toFixed(0),stack_id:o,thread_id:t};s.stacks[o]=v,s.samples[c]=y,o++}else void 0===i&&(i=o,s.stacks[i]=[],o++),s.samples[c]={elapsed_since_start_ns:((_.timestamp+u-l)*e).toFixed(0),stack_id:i,thread_id:t}}return s}'object'==typeof(u=c)&&null!==u&&'getHighEntropyValues'in u&&c.getHighEntropyValues(['architecture','model','platform','platformVersion','fullVersionList']).then((function(e){if(n=e.platform||'',o=e.architecture||'',l=e.model||'',i=e.platformVersion||'',e.fullVersionList&&e.fullVersionList.length>0){var t=e.fullVersionList[e.fullVersionList.length-1];s=`${t.brand} ${t.version}`}})).catch((function(e){}));var E=new WeakMap;function b(e){var t=r(d[1]).GLOBAL_OBJ._sentryDebugIds;if(!t)return[];var n=r(d[2]).getCurrentHub();if(!n)return[];var i=n.getClient();if(!i)return[];var o=i.getOptions();if(!o)return[];var s,l=o.stackParser;if(!l)return[];var f=E.get(l);f?s=f:(s=new Map,E.set(l,s));var u=Object.keys(t).reduce((function(e,n){var i,o=s.get(n);o?i=o:(i=l(n),s.set(n,i));for(var f=i.length-1;f>=0;f--){var u=i[f],c=u&&u.filename;if(u&&c){e[c]=t[n];break}}return e}),{}),c=[];for(var _ of e)_&&u[_]&&c.push({type:'sourcemap',code_file:_,debug_id:u[_]});return c}function I(e){return e.samples.length<2?(('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[1]).logger.log('[Profiling] Discarding profile because it contains less than 2 samples'),!1):!!e.frames.length||(('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[1]).logger.log('[Profiling] Discarding profile because it contains no frames'),!1)}var D=new Map;_e.PROFILE_MAP=D,_e.addProfileToMap=function(e,t){if(D.set(e,t),D.size>30){var n=D.keys().next().value;D.delete(n)}},_e.addProfilesToEnvelope=function(e,t){if(!t.length)return e;for(var n of t)e[1].push([{type:'profile'},n]);return e},_e.applyDebugMetadata=b,_e.convertJSSelfProfileToSampledFormat=y,_e.createProfilePayload=h,_e.createProfilingEvent=function(e,t,n){return I(t)?h(n,t,e):null},_e.enrichWithThreadInformation=p,_e.findProfiledTransactionsFromEnvelope=function(e){var t=[];return r(d[1]).forEachEnvelopeItem(e,(function(e,n){if('transaction'===n)for(var i=1;i<e.length;i++){var o=e[i];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&t.push(e[i])}})),t},_e.isValidSampleRate=function(e){return'number'!=typeof e&&'boolean'!=typeof e||'number'==typeof e&&isNaN(e)?(('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[1]).logger.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!0===e||!1===e||(!(e<0||e>1)||(('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[1]).logger.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1))}}),583,[425,426,483,489]);