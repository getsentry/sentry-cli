__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,'__esModule',{value:!0});function t(t,n){if('event'===n||'transaction'===n)return Array.isArray(t)?t[1]:void 0}e.DEFAULT_TRANSPORT_BUFFER_SIZE=30,e.createTransport=function(n,o){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r(d[0]).makePromiseBuffer(n.bufferSize||30),f={},_=function(t){return u.drain(t)};function s(_){var s=[];if(r(d[0]).forEachEnvelopeItem(_,(function(o,u){var _=r(d[0]).envelopeItemTypeToDataCategory(u);if(r(d[0]).isRateLimited(f,_)){var c=t(o,u);n.recordDroppedEvent('ratelimit_backoff',_,c)}else s.push(o)})),0===s.length)return r(d[0]).resolvedSyncPromise();var c=r(d[0]).createEnvelope(_[0],s),v=function(o){r(d[0]).forEachEnvelopeItem(c,(function(u,f){var _=t(u,f);n.recordDroppedEvent(o,r(d[0]).envelopeItemTypeToDataCategory(f),_)}))};return u.add((function(){return o({body:r(d[0]).serializeEnvelope(c,n.textEncoder)}).then((function(t){return void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[0]).logger.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),f=r(d[0]).updateRateLimits(f,t),t}),(function(t){throw v('network_error'),t}))})).then((function(t){return t}),(function(t){if(t instanceof r(d[0]).SentryError)return('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[0]).logger.error('Skipped sending event because buffer is full.'),v('queue_overflow'),r(d[0]).resolvedSyncPromise();throw t}))}return s.__sentry__baseTransport__=!0,{send:s,flush:_}}}),510,[426]);