__d((function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.DebugSymbolicator=void 0;var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),n=new RegExp(['ReactNativeRenderer-dev\\.js$','MessageQueue\\.js$'].join('|')),o=(function(){function o(){(0,e.default)(this,o),this.name=o.id}return(0,t.default)(o,[{key:"setupOnce",value:function(){var e=this;(0,r(d[3]).addGlobalEventProcessor)((function(t,n){return(0,r(d[4]).__awaiter)(e,void 0,void 0,(function*(){var e=(0,r(d[3]).getCurrentHub)().getIntegration(o);if(!e||void 0===n||void 0===n.originalException)return t;var c,l=n.originalException,u=r(d[5]);try{c=u(l)}catch(e){c=u(l.stack)}return yield e._symbolicate(t,c),t.platform='node',t}))}))}},{key:"_symbolicate",value:function(e,t){return(0,r(d[4]).__awaiter)(this,void 0,void 0,(function*(){try{var o=r(d[6]),c=yield o(t);if(c){var l=c;c.stack&&(l=c.stack);var u=l.filter((function(e){return e.file&&null===e.file.match(n)})),s=yield this._convertReactNativeFramesToSentryFrames(u);this._replaceFramesInEvent(e,s)}else r(d[7]).logger.error('The stack is null')}catch(e){e instanceof Error&&r(d[7]).logger.warn(`Unable to symbolicate stack trace: ${e.message}`)}}))}},{key:"_convertReactNativeFramesToSentryFrames",value:function(e){return(0,r(d[4]).__awaiter)(this,void 0,void 0,(function*(){var t,n=this;try{t=r(d[8])}catch(e){}return Promise.all(e.map((function(e){return(0,r(d[4]).__awaiter)(n,void 0,void 0,(function*(){var n=!!e.column&&!!e.lineNumber;n=n&&void 0!==e.file&&!e.file.includes('node_modules')&&!e.file.includes('native code');var o={colno:e.column,filename:e.file,function:e.methodName,in_app:n,lineno:n?e.lineNumber:void 0,platform:n?'javascript':'node'};if(o.function){var c=o.function.indexOf('(address at');c>=0&&(o.function=o.function.substr(0,c).trim())}return n&&(yield this._addSourceContext(o,t)),o}))})))}))}},{key:"_replaceFramesInEvent",value:function(e,t){e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].stacktrace&&(e.exception.values[0].stacktrace.frames=t.reverse())}},{key:"_addSourceContext",value:function(e,t){var n,o;return(0,r(d[4]).__awaiter)(this,void 0,void 0,(function*(){var c,l=null!==(o=null===(n=e.filename)||void 0===n?void 0:n.split('/'))&&void 0!==o?o:[];if(t)for(var u in l)if(Object.prototype.hasOwnProperty.call(l,u)&&(c=yield fetch(`${t().url}${l.slice(-u).join('/')}`,{method:'GET'})).ok)break;if(c&&c.ok){var s=(yield c.text()).split('\n');(0,r(d[7]).addContextToFrame)(s,e)}}))}}]),o})();_e.DebugSymbolicator=o,o.id='DebugSymbolicator'}),640,[598,451,452,483,602,81,641,426,642]);