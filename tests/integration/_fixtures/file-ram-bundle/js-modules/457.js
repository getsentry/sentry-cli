__d((function(g,r,i,a,m,_e,d){Object.defineProperty(_e,'__esModule',{value:!0});var t,e=r(d[0]).getGlobalObject(),n='__sentry_xhr_v2__',o={},s={};function u(t){if(!s[t])switch(s[t]=!0,t){case'console':f();break;case'dom':b();break;case'xhr':y();break;case'fetch':l();break;case'history':v();break;case'error':R();break;case'unhandledrejection':A();break;default:return void(('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[1]).logger.warn('unknown instrumentation type:',t))}}function c(t,e){if(t&&o[t])for(var n of o[t]||[])try{n(e)}catch(e){('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[1]).logger.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${r(d[2]).getFunctionName(n)}\nError:`,e)}}function f(){'console'in e&&r(d[1]).CONSOLE_LEVELS.forEach((function(t){t in e.console&&r(d[3]).fill(e.console,t,(function(n){return function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];c('console',{args:s,level:t}),n&&n.apply(e.console,s)}}))}))}function l(){r(d[4]).supportsNativeFetch()&&r(d[3]).fill(e,'fetch',(function(t){return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var u=p(o),f=u.method,l=u.url,h={args:o,fetchData:{method:f,url:l},startTimestamp:Date.now()};return c('fetch',Object.assign({},h)),t.apply(e,o).then((function(t){return c('fetch',Object.assign({},h,{endTimestamp:Date.now(),response:t})),t}),(function(t){throw c('fetch',Object.assign({},h,{endTimestamp:Date.now(),error:t})),t}))}}))}function h(t,e){return!!t&&'object'==typeof t&&!!t[e]}function _(t){return'string'==typeof t?t:t?h(t,'url')?t.url:t.toString?t.toString():'':''}function p(t){if(0===t.length)return{method:'GET',url:''};if(2===t.length){var e=r(d[5])(t,2),n=e[0],o=e[1];return{url:_(n),method:h(o,'method')?String(o.method).toUpperCase():'GET'}}var s=t[0];return{url:_(s),method:h(s,'method')?String(s.method).toUpperCase():'GET'}}function y(){if('XMLHttpRequest'in e){var t=XMLHttpRequest.prototype;r(d[3]).fill(t,'open',(function(t){return function(){for(var e=this,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];var f=s[1],l=this[n]={method:r(d[6]).isString(s[0])?s[0].toUpperCase():s[0],url:s[1],request_headers:{}};r(d[6]).isString(f)&&'POST'===l.method&&f.match(/sentry_key/)&&(this.__sentry_own_request__=!0);var h=function(){var t=e[n];if(t&&4===e.readyState){try{t.status_code=e.status}catch(t){}c('xhr',{args:s,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:e})}};return'onreadystatechange'in this&&'function'==typeof this.onreadystatechange?r(d[3]).fill(this,'onreadystatechange',(function(t){return function(){h();for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(this,n)}})):this.addEventListener('readystatechange',h),r(d[3]).fill(this,'setRequestHeader',(function(t){return function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var u=o[0],c=o[1],f=this[n];return f&&(f.request_headers[u.toLowerCase()]=c),t.apply(this,o)}})),t.apply(this,s)}})),r(d[3]).fill(t,'send',(function(t){return function(){for(var e=this[n],o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return e&&void 0!==s[0]&&(e.body=s[0]),c('xhr',{args:s,startTimestamp:Date.now(),xhr:this}),t.apply(this,s)}}))}}function v(){if(r(d[7]).supportsHistory()){var n=e.onpopstate;e.onpopstate=function(){var o=e.location.href,s=t;if(t=o,c('history',{from:s,to:o}),n)try{for(var u=arguments.length,f=new Array(u),l=0;l<u;l++)f[l]=arguments[l];return n.apply(this,f)}catch(t){}},r(d[3]).fill(e.history,'pushState',o),r(d[3]).fill(e.history,'replaceState',o)}function o(e){return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var u=o.length>2?o[2]:void 0;if(u){var f=t,l=String(u);t=l,c('history',{from:f,to:l})}return e.apply(this,o)}}}var E,T;function S(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}function w(t){if('keypress'!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if('INPUT'===e.tagName||'TEXTAREA'===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}function N(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(o){if(o&&T!==o&&!w(o)){var s='keypress'===o.type?'input':o.type;(void 0===E||S(T,o))&&(t({event:o,name:s,global:n}),T=o),clearTimeout(E),E=e.setTimeout((function(){E=void 0}),1e3)}}}function b(){if('document'in e){var t=c.bind(null,'dom'),n=N(t,!0);e.document.addEventListener('click',n,!1),e.document.addEventListener('keypress',n,!1),['EventTarget','Node'].forEach((function(n){var o=e[n]&&e[n].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty('addEventListener')&&(r(d[3]).fill(o,'addEventListener',(function(e){return function(n,o,s){if('click'===n||'keypress'==n)try{var u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},c=u[n]=u[n]||{refCount:0};if(!c.handler){var f=N(t);c.handler=f,e.call(this,n,f,s)}c.refCount++}catch(t){}return e.call(this,n,o,s)}})),r(d[3]).fill(o,'removeEventListener',(function(t){return function(e,n,o){if('click'===e||'keypress'==e)try{var s=this.__sentry_instrumentation_handlers__||{},u=s[e];u&&(u.refCount--,u.refCount<=0&&(t.call(this,e,u.handler,o),u.handler=void 0,delete s[e]),0===Object.keys(s).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,o)}})))}))}}var k=null;function R(){k=e.onerror,e.onerror=function(t,e,n,o,s){return c('error',{column:o,error:s,line:n,msg:t,url:e}),!(!k||k.__SENTRY_LOADER__)&&k.apply(this,arguments)},e.onerror.__SENTRY_INSTRUMENTED__=!0}var D=null;function A(){D=e.onunhandledrejection,e.onunhandledrejection=function(t){return c('unhandledrejection',t),!(D&&!D.__SENTRY_LOADER__)||D.apply(this,arguments)},e.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}_e.SENTRY_XHR_DATA_KEY=n,_e.addInstrumentationHandler=function(t,e){o[t]=o[t]||[],o[t].push(e),u(t)},_e.parseFetchArgs=p}),457,[437,443,458,460,461,439,428,462]);