__d((function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.DeviceContext=void 0;var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),n=r(d[3]),c=(function(){function c(){(0,e.default)(this,c),this.name=c.id}return(0,t.default)(c,[{key:"setupOnce",value:function(e,t){var o=this;e((function(e){return(0,r(d[4]).__awaiter)(o,void 0,void 0,(function*(){var o;if(!t().getIntegration(c))return e;var v=null;try{v=yield r(d[5]).NATIVE.fetchNativeDeviceContexts()}catch(e){r(d[6]).logger.log(`Failed to get device context from native: ${e}`)}if(!v)return e;var s=v.user;!e.user&&s&&(e.user=s);var u=v.contexts;'unknown'!==n.AppState.currentState&&((u=u||{}).app=Object.assign(Object.assign({},u.app),{in_foreground:'active'===n.AppState.currentState})),u&&(e.contexts=Object.assign(Object.assign({},u),e.contexts));var l=v.tags;l&&(e.tags=Object.assign(Object.assign({},l),e.tags));var f=v.extra;f&&(e.extra=Object.assign(Object.assign({},f),e.extra));var b=v.fingerprint;b&&(e.fingerprint=(null!==(o=e.fingerprint)&&void 0!==o?o:[]).concat(b.filter((function(t){var n;return(null!==(n=e.fingerprint)&&void 0!==n?n:[]).indexOf(t)<0}))));var p='string'==typeof v.level?(0,r(d[6]).severityLevelFromString)(v.level):void 0;!e.level&&p&&(e.level=p);var x=v.environment;!e.environment&&x&&(e.environment=x);var O=Array.isArray(v.breadcrumbs)?v.breadcrumbs.map(r(d[7]).breadcrumbFromObject):void 0;return O&&(e.breadcrumbs=O),e}))}))}}]),c})();_e.DeviceContext=c,c.id='DeviceContext'}),643,[598,451,452,7,602,603,426,636]);