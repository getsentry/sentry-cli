__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.convertToSentryProfile=function(t){if(0===t.samples.length)return r(d[3]).logger.warn('[Profiling] No samples found in profile.'),null;var s=o(t.samples),n=s.samples,f=s.hermesStacks,p=s.jsThreads,v=c(t.stackFrames),u=v.frames,S=v.hermesStackFrameIdToSentryFrameIdMap,h=l(f,t.stackFrames,S),_=h.stacks,k=h.hermesStackToSentryStackMap;for(var N of n){var y=k.get(N.stack_id);void 0===y?(r(d[3]).logger.error(`[Profiling] Hermes Stack ID ${N.stack_id} not found when mapping to Sentry Stack ID.`),N.stack_id=-1):N.stack_id=y}var F={};for(var M of p)F[M]={name:"JavaScriptThread",priority:1};return{samples:n,frames:u,stacks:_,thread_metadata:F}},e.mapSamples=o;var t=r(d[0]),s=1e6*r(d[1]).MAX_PROFILE_DURATION_MS,n='android'===t.Platform.OS?r(d[2]).ANDROID_DEFAULT_BUNDLE_NAME:'ios'===t.Platform.OS?r(d[2]).IOS_DEFAULT_BUNDLE_NAME:void 0;function o(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,o=new Set,c=new Set,l=Number(t[0].ts),f=[];for(var p of t){o.add(p.tid),c.add(p.sf);var v=1e3*(Number(p.ts)-l);if(v>=n){r(d[3]).logger.warn(`[Profiling] Sample has elapsed time since start ${v}ns greater than the max elapsed time ${n}ns.`);break}f.push({stack_id:p.sf,thread_id:p.tid,elapsed_since_start_ns:v.toFixed(0)})}return{samples:f,hermesStacks:c,jsThreads:o}}function c(t){var s=[],o=new Map;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){o.set(Number(c),s.length);var l=t[c],f=(0,r(d[4]).parseHermesStackFrameFunctionName)(l.name);s.push({function:f||"anonymous",file:'JavaScript'==l.category?n:void 0,lineno:void 0!==l.line?Number(l.line):void 0,colno:void 0!==l.column?Number(l.column):void 0})}return{frames:s,hermesStackFrameIdToSentryFrameIdMap:o}}function l(t,s,n){var o=new Map,c=[];for(var l of t){var f=c.length;o.set(l,f);for(var p=[],v=l;void 0!==v;){var u=n.get(v);void 0!==u&&p.push(u),v=s[v]&&s[v].parent}c.push(p)}return{stacks:c,hermesStackToSentryStackMap:o}}}),647,[7,645,648,426,646]);