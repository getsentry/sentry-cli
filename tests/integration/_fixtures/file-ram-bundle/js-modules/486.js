__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,'__esModule',{value:!0});var t=(function(){"use strict";function t(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new(r(d[0]).Scope),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;r(d[1])(this,t),this._version=o,this._stack=[{scope:s}],n&&this.bindClient(n)}return r(d[2])(t,[{key:"isOlderThan",value:function(t){return this._version<t}},{key:"bindClient",value:function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()}},{key:"pushScope",value:function(){var t=r(d[0]).Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}},{key:"popScope",value:function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}},{key:"withScope",value:function(t){var n=this.pushScope();try{t(n)}finally{this.popScope()}}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getStack",value:function(){return this._stack}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"captureException",value:function(t,n){var s=this._lastEventId=n&&n.event_id?n.event_id:r(d[3]).uuid4(),o=new Error('Sentry syntheticException');return this._withClient((function(u,c){u.captureException(t,Object.assign({originalException:t,syntheticException:o},n,{event_id:s}),c)})),s}},{key:"captureMessage",value:function(t,n,s){var o=this._lastEventId=s&&s.event_id?s.event_id:r(d[3]).uuid4(),u=new Error(t);return this._withClient((function(c,_){c.captureMessage(t,n,Object.assign({originalException:t,syntheticException:u},s,{event_id:o}),_)})),o}},{key:"captureEvent",value:function(t,n){var s=n&&n.event_id?n.event_id:r(d[3]).uuid4();return t.type||(this._lastEventId=s),this._withClient((function(o,u){o.captureEvent(t,Object.assign({},n,{event_id:s}),u)})),s}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addBreadcrumb",value:function(t,n){var s=this.getStackTop(),o=s.scope,u=s.client;if(u){var c=u.getOptions&&u.getOptions()||{},_=c.beforeBreadcrumb,l=void 0===_?null:_,v=c.maxBreadcrumbs,h=void 0===v?100:v;if(!(h<=0)){var p=r(d[3]).dateTimestampInSeconds(),S=Object.assign({timestamp:p},t),f=l?r(d[3]).consoleSandbox((function(){return l(S,n)})):S;null!==f&&(u.emit&&u.emit('beforeAddBreadcrumb',f,n),o.addBreadcrumb(f,h))}}}},{key:"setUser",value:function(t){this.getScope().setUser(t)}},{key:"setTags",value:function(t){this.getScope().setTags(t)}},{key:"setExtras",value:function(t){this.getScope().setExtras(t)}},{key:"setTag",value:function(t,n){this.getScope().setTag(t,n)}},{key:"setExtra",value:function(t,n){this.getScope().setExtra(t,n)}},{key:"setContext",value:function(t,n){this.getScope().setContext(t,n)}},{key:"configureScope",value:function(t){var n=this.getStackTop(),s=n.scope;n.client&&t(s)}},{key:"run",value:function(t){var n=s(this);try{t(this)}finally{s(n)}}},{key:"getIntegration",value:function(t){var n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch(n){return('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[3]).logger.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}},{key:"startTransaction",value:function(t,n){var s=this._callExtensionMethod('startTransaction',t,n);return'undefined'!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||s||console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"),s}},{key:"traceHeaders",value:function(){return this._callExtensionMethod('traceHeaders')}},{key:"captureSession",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return this.endSession();this._sendSessionUpdate()}},{key:"endSession",value:function(){var t=this.getStackTop().scope,n=t.getSession();n&&r(d[4]).closeSession(n),this._sendSessionUpdate(),t.setSession()}},{key:"startSession",value:function(t){var n=this.getStackTop(),s=n.scope,o=n.client,u=o&&o.getOptions()||{},c=u.release,_=u.environment,l=void 0===_?r(d[5]).DEFAULT_ENVIRONMENT:_,v=(r(d[3]).GLOBAL_OBJ.navigator||{}).userAgent,h=r(d[4]).makeSession(Object.assign({release:c,environment:l,user:s.getUser()},v&&{userAgent:v},t)),p=s.getSession&&s.getSession();return p&&'ok'===p.status&&r(d[4]).updateSession(p,{status:'exited'}),this.endSession(),s.setSession(h),h}},{key:"shouldSendDefaultPii",value:function(){var t=this.getClient(),n=t&&t.getOptions();return Boolean(n&&n.sendDefaultPii)}},{key:"_sendSessionUpdate",value:function(){var t=this.getStackTop(),n=t.scope,s=t.client,o=n.getSession();o&&s&&s.captureSession&&s.captureSession(o)}},{key:"_withClient",value:function(t){var n=this.getStackTop(),s=n.scope,o=n.client;o&&t(o,s)}},{key:"_callExtensionMethod",value:function(t){var s=n(),o=s.__SENTRY__;if(o&&o.extensions&&'function'==typeof o.extensions[t]){for(var u=arguments.length,c=new Array(u>1?u-1:0),_=1;_<u;_++)c[_-1]=arguments[_];return o.extensions[t].apply(this,c)}('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[3]).logger.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}]),t})();function n(){return r(d[3]).GLOBAL_OBJ.__SENTRY__=r(d[3]).GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},r(d[3]).GLOBAL_OBJ}function s(t){var s=n(),o=c(s);return _(s,t),o}function o(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n();return u(s)&&!c(s).isOlderThan(4)||_(s,new t),c(s)}function u(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function c(n){return r(d[3]).getGlobalSingleton('hub',(function(){return new t}),n)}function _(t,n){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=n,!0)}e.API_VERSION=4,e.Hub=t,e.ensureHubOnCarrier=function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o();if(!u(n)||c(n).isOlderThan(4)){var l=s.getStackTop();_(n,new t(l.client,r(d[0]).Scope.clone(l.scope)))}},e.getCurrentHub=function(){var t=n();if(t.__SENTRY__&&t.__SENTRY__.acs){var s=t.__SENTRY__.acs.getCurrentHub();if(s)return s}return o(t)},e.getHubFromCarrier=c,e.getMainCarrier=n,e.makeMain=s,e.runWithAsyncContext=function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n();return o.__SENTRY__&&o.__SENTRY__.acs?o.__SENTRY__.acs.runWithAsyncContext(t,s):t()},e.setAsyncContextStrategy=function(t){var s=n();s.__SENTRY__=s.__SENTRY__||{},s.__SENTRY__.acs=t},e.setHubOnCarrier=_}),486,[487,451,452,426,488,490]);