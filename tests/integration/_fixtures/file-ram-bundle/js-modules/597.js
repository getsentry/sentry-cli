__d((function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.ReactNativeClient=void 0;var t=r(d[0])(r(d[1])),e=r(d[0])(r(d[2])),n=r(d[0])(r(d[3])),o=r(d[0])(r(d[4])),s=r(d[0])(r(d[5])),c=r(d[0])(r(d[6]));r(d[7]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var l=(function(l){(0,o.default)(p,l);var f,v,h=(f=p,v=u(),function(){var t,e=(0,c.default)(f);if(v){var n=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,s.default)(this,t)});function p(e){var n;return(0,t.default)(this,p),(0,r(d[8]).ignoreRequireCycleLogs)(),e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||r(d[9]).defaultSdkInfo,(n=h.call(this,e))._outcomesBuffer=[],n._initNativeSdk(),n}return(0,e.default)(p,[{key:"eventFromException",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(d[10]).Screenshot.attachScreenshotToEventHint(n,this._options).then((function(n){return(0,r(d[11]).eventFromException)(e._options.stackParser,t,n,e._options.attachStacktrace)}))}},{key:"eventFromMessage",value:function(t,e,n){return(0,r(d[11]).eventFromMessage)(this._options.stackParser,t,e,n,this._options.attachStacktrace).then((function(t){var e;if(!(null===(e=t.exception)||void 0===e?void 0:e.values)||t.exception.values.length<=0)return t;var n=t.exception.values.map((function(t){return{stacktrace:t.stacktrace}}));return t.threads={values:n},delete t.exception,t}))}},{key:"nativeCrash",value:function(){r(d[12]).NATIVE.nativeCrash()}},{key:"close",value:function(){return(0,n.default)((0,c.default)(p.prototype),"close",this).call(this).then((function(t){return r(d[12]).NATIVE.closeNativeSdk().then((function(){return t}))}))}},{key:"captureUserFeedback",value:function(t){var e=(0,r(d[13]).createUserFeedbackEnvelope)(t,{metadata:this._options._metadata,dsn:this.getDsn(),tunnel:this._options.tunnel});this._sendEnvelope(e)}},{key:"setupIntegrations",value:function(){var t;(0,n.default)((0,c.default)(p.prototype),"setupIntegrations",this).call(this);var e=this.getIntegration(r(d[14]).ReactNativeTracing),o=null===(t=null==e?void 0:e.options.routingInstrumentation)||void 0===t?void 0:t.name;o&&this.addIntegration((0,r(d[15]).createIntegration)(o)),(null==e?void 0:e.options.enableUserInteractionTracing)&&this.addIntegration((0,r(d[15]).createIntegration)('ReactNativeUserInteractionTracing'))}},{key:"_sendEnvelope",value:function(t){var e=this._clearOutcomes();this._outcomesBuffer=(0,r(d[16]).mergeOutcomes)(this._outcomesBuffer,e),this._options.sendClientReports&&this._attachClientReportTo(this._outcomesBuffer,t);var n=!0;this._transport&&this._dsn?(this.emit('beforeEnvelope',t),this._transport.send(t).then(null,(function(t){t instanceof r(d[17]).SentryError?(n=!1,r(d[17]).logger.error('SentryError while sending event, keeping outcomes buffer:',t)):r(d[17]).logger.error('Error while sending event:',t)}))):r(d[17]).logger.error('Transport disabled'),n&&(this._outcomesBuffer=[])}},{key:"_initNativeSdk",value:function(){var t,e;return(0,r(d[18]).__awaiter)(this,void 0,void 0,(function*(){var n=!1;try{n=yield r(d[12]).NATIVE.initNativeSdk(this._options)}catch(t){this._showCannotConnectDialog()}finally{try{null===(e=(t=this._options).onReady)||void 0===e||e.call(t,{didCallNativeInit:n})}catch(t){r(d[17]).logger.error('The OnReady callback threw an error: ',t)}}}))}},{key:"_showCannotConnectDialog",value:function(){}},{key:"_attachClientReportTo",value:function(t,e){if(t.length>0){var n=[{type:'client_report'},{timestamp:(0,r(d[17]).dateTimestampInSeconds)(),discarded_events:t}];e[r(d[13]).items].push(n)}}}]),p})(r(d[19]).BaseClient);_e.ReactNativeClient=l}),597,[598,451,452,493,449,446,445,7,599,600,611,424,603,612,613,618,628,426,602,483]);