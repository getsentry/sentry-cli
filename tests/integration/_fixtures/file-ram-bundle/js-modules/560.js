__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,'__esModule',{value:!0});var t='BrowserTracing',n=Object.assign({},r(d[0]).TRACING_DEFAULTS,{markBackgroundTransactions:!0,routingInstrumentation:r(d[1]).instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{}},r(d[2]).defaultRequestInstrumentationOptions),o=(function(){"use strict";function o(s){r(d[3])(this,o),this.name=t,this._hasSetTracePropagationTargets=!1,r(d[0]).addTracingExtensions(),('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!(!s||!s.tracePropagationTargets&&!s.tracingOrigins)),this.options=Object.assign({},n,s),void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),s&&!s.tracePropagationTargets&&s.tracingOrigins&&(this.options.tracePropagationTargets=s.tracingOrigins),this._collectWebVitals=r(d[4]).startTrackingWebVitals(),this.options.enableLongTask&&r(d[4]).startTrackingLongTasks(),this.options._experiments.enableInteractions&&r(d[4]).startTrackingInteractions()}return r(d[5])(o,[{key:"setupOnce",value:function(t,n){var o=this;this._getCurrentHub=n;var s=n().getClient(),c=s&&s.getOptions(),_=this.options,u=_.routingInstrumentation,l=_.startTransactionOnLocationChange,p=_.startTransactionOnPageLoad,T=_.markBackgroundTransactions,f=_.traceFetch,h=_.traceXHR,E=_.shouldCreateSpanForRequest,b=_.enableHTTPTimings,R=_._experiments,S=c&&c.tracePropagationTargets,v=S||this.options.tracePropagationTargets;('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&S&&r(d[6]).logger.warn('[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.'),u((function(t){var s=o._createRouteTransaction(t);return o.options._experiments.onStartRouteTransaction&&o.options._experiments.onStartRouteTransaction(s,t,n),s}),p,l),T&&r(d[7]).registerBackgroundTabDetection(),R.enableInteractions&&this._registerInteractionListener(),r(d[2]).instrumentOutgoingRequests({traceFetch:f,traceXHR:h,tracePropagationTargets:v,shouldCreateSpanForRequest:E,enableHTTPTimings:b})}},{key:"_createRouteTransaction",value:function(t){var n=this;if(this._getCurrentHub){var o=this._getCurrentHub(),c=this.options,_=c.beforeNavigate,u=c.idleTimeout,l=c.finalTimeout,p=c.heartbeatInterval,T='pageload'===t.op,f=T?s('sentry-trace'):'',h=T?s('baggage'):'',E=r(d[6]).tracingContextFromHeaders(f,h),b=E.traceparentData,R=E.dynamicSamplingContext,S=E.propagationContext,v=Object.assign({},t,b,{metadata:Object.assign({},t.metadata,{dynamicSamplingContext:b&&!R?{}:R}),trimEnd:!0}),D='function'==typeof _?_(v):v,N=void 0===D?Object.assign({},v,{sampled:!1}):D;N.metadata=N.name!==v.name?Object.assign({},N.metadata,{source:'custom'}):N.metadata,this._latestRouteName=N.name,this._latestRouteSource=N.metadata&&N.metadata.source,!1===N.sampled&&('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[6]).logger.log(`[Tracing] Will not send ${N.op} transaction because of beforeNavigate.`),('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[6]).logger.log(`[Tracing] Starting ${N.op} transaction on scope`);var I=r(d[8]).WINDOW.location,B=r(d[0]).startIdleTransaction(o,N,u,l,!0,{location:I},p),C=o.getScope();return T&&b?C.setPropagationContext(S):C.setPropagationContext({traceId:B.traceId,spanId:B.spanId,parentSpanId:B.parentSpanId,sampled:!!B.sampled}),B.registerBeforeFinishCallback((function(t){n._collectWebVitals(),r(d[4]).addPerformanceEntries(t)})),B}('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[6]).logger.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`)}},{key:"_registerInteractionListener",value:function(){var t,n=this,o=function(){var o=n.options,s=o.idleTimeout,c=o.finalTimeout,_=o.heartbeatInterval,u='ui.action.click',l=r(d[0]).getActiveTransaction();if(l&&l.op&&['navigation','pageload'].includes(l.op))('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[6]).logger.warn(`[Tracing] Did not create ${u} transaction because a pageload or navigation transaction is in progress.`);else if(t&&(t.setFinishReason('interactionInterrupted'),t.finish(),t=void 0),n._getCurrentHub)if(n._latestRouteName){var p=n._getCurrentHub(),T=r(d[8]).WINDOW.location,f={name:n._latestRouteName,op:u,trimEnd:!0,metadata:{source:n._latestRouteSource||'url'}};t=r(d[0]).startIdleTransaction(p,f,s,c,!0,{location:T},_)}else('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[6]).logger.warn(`[Tracing] Did not create ${u} transaction because _latestRouteName is missing.`);else('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[6]).logger.warn(`[Tracing] Did not create ${u} transaction because _getCurrentHub is invalid.`)};['click'].forEach((function(t){addEventListener(t,o,{once:!1,capture:!0})}))}}]),o})();function s(t){var n=r(d[6]).getDomElement(`meta[name=${t}]`);return n?n.getAttribute('content'):void 0}e.BROWSER_TRACING_INTEGRATION_ID=t,e.BrowserTracing=o,e.getMetaContent=s}),560,[483,561,563,451,564,452,426,579,562]);