__d((function(g,r,i,a,m,_e,d){function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(_e,'__esModule',{value:!0});var t=r(d[2]),n=r(d[3])._interopDefault(r(d[4])),o=r(d[3])._interopNamespace(t),c="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function s(e){var t=e.match(/^([^.]+)/);return null!==t&&parseInt(t[0])>=17}var u='unknown',l={componentStack:null,error:null,eventId:null};function p(e,t){var n=new WeakMap;!(function e(t,o){if(!n.has(t))return t.cause?(n.set(t,!0),e(t.cause,o)):void(t.cause=o)})(e,t)}var f=(function(t){"use strict";r(d[5])(f,t);var n,c,u=(n=f,c=e(),function(){var e,t=r(d[0])(n);if(c){var o=r(d[0])(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return r(d[1])(this,e)});function f(e){var t;r(d[6])(this,f),t=u.call(this,e),f.prototype.__init.call(r(d[7])(t)),t.state=l,t._openFallbackReportDialog=!0;var n=r(d[8]).getCurrentHub().getClient();return n&&n.on&&e.showDialog&&(t._openFallbackReportDialog=!1,n.on('afterSendEvent',(function(n){n.type||n.event_id!==t._lastEventId||r(d[8]).showReportDialog(Object.assign({},e.dialogOptions,{eventId:t._lastEventId}))}))),t}return r(d[9])(f,[{key:"componentDidCatch",value:function(e,t){var n=this,c=t.componentStack,u=this.props,l=u.beforeCapture,f=u.onError,v=u.showDialog,_=u.dialogOptions;r(d[8]).withScope((function(t){if(s(o.version)&&r(d[10]).isError(e)){var u=new Error(e.message);u.name=`React ErrorBoundary ${u.name}`,u.stack=c,p(e,u)}l&&l(t,e,c);var h=r(d[8]).captureException(e,{contexts:{react:{componentStack:c}}});f&&f(e,c,h),v&&(n._lastEventId=h,n._openFallbackReportDialog&&r(d[8]).showReportDialog(Object.assign({},_,{eventId:h}))),n.setState({error:e,componentStack:c,eventId:h})}))}},{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e()}},{key:"componentWillUnmount",value:function(){var e=this.state,t=e.error,n=e.componentStack,o=e.eventId,c=this.props.onUnmount;c&&c(t,n,o)}},{key:"__init",value:function(){var e=this;this.resetErrorBoundary=function(){var t=e.props.onReset,n=e.state,o=n.error,c=n.componentStack,s=n.eventId;t&&t(o,c,s),e.setState(l)}}},{key:"render",value:function(){var e=this.props,t=e.fallback,n=e.children,c=this.state;if(c.error){var s=void 0;return s='function'==typeof t?t({error:c.error,componentStack:c.componentStack,resetError:this.resetErrorBoundary,eventId:c.eventId}):t,o.isValidElement(s)?s:(t&&('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[10]).logger.warn('fallback did not produce a valid ReactElement'),null)}return'function'==typeof n?n():n}}]),f})(o.Component);_e.ErrorBoundary=f,_e.UNKNOWN_COMPONENT=u,_e.isAtLeastReact17=s,_e.withErrorBoundary=function(e,t){var s=this,l=e.displayName||e.name||u,p=function(n){return o.createElement(f,Object.assign({},t,{__self:s,__source:{fileName:c,lineNumber:227}}),o.createElement(e,Object.assign({},n,{__self:s,__source:{fileName:c,lineNumber:228}})))};return p.displayName=`errorBoundary(${l})`,n(p,e),p}}),592,[445,446,586,539,588,449,451,448,424,452,426]);