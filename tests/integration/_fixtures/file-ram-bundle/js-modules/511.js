__d((function(g,r,i,a,m,_e,d){Object.defineProperty(_e,'__esModule',{value:!0});var e=5e3;function t(e,t){('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[0]).logger.info(`[Offline]: ${e}`,t)}_e.MIN_DELAY=100,_e.START_DELAY=e,_e.makeOfflineTransport=function(n){return function(u){var o,f=n(u),s=u.createStore?u.createStore(u):void 0,l=e;function c(e,t,n){return!r(d[0]).envelopeContainsItemType(e,['replay_event','replay_recording','client_report'])&&(!u.shouldStore||u.shouldStore(e,t,n))}function p(e){s&&(o&&clearTimeout(o),'number'!=typeof(o=setTimeout(r(d[1])((function*(){o=void 0;var e=yield s.pop();e&&(t('Attempting to send previously queued event'),y(e).catch((function(e){t('Failed to retry sending',e)})))})),e))&&o.unref&&o.unref())}function _(){o||(p(l),l=Math.min(2*l,36e5))}function y(e){return h.apply(this,arguments)}function h(){return(h=r(d[1])((function*(n){try{var u=yield f.send(n),o=100;if(u)if(u.headers&&u.headers['retry-after'])o=r(d[0]).parseRetryAfterHeader(u.headers['retry-after']);else if((u.statusCode||0)>=400)return u;return p(o),l=e,u}catch(e){if(s&&(yield c(n,e,l)))return yield s.insert(n),_(),t('Error sending. Event queued',e),{};throw e}}))).apply(this,arguments)}return u.flushAtStartup&&_(),{send:y,flush:function(e){return f.flush(e)}}}}}),511,[426,502]);