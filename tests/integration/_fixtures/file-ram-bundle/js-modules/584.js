__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,'__esModule',{value:!0});var n=(function(){"use strict";function n(){r(d[0])(this,n),this.name=n.id}return r(d[1])(n,[{key:"setupOnce",value:function(n,o){this.getCurrentHub=o;var t=this.getCurrentHub().getClient();t&&'function'==typeof t.on?(t.on('startTransaction',(function(n){r(d[2]).wrapTransactionWithProfiling(n)})),t.on('beforeEnvelope',(function(n){if(r(d[3]).PROFILE_MAP.size){var o=r(d[3]).findProfiledTransactionsFromEnvelope(n);if(o.length){var t=[];for(var f of o){var l=f&&f.contexts,_=l&&l.profile&&l.profile.profile_id;if(_){l&&l.profile&&delete l.profile;var s=r(d[3]).PROFILE_MAP.get(_);if(s){r(d[3]).PROFILE_MAP.delete(_);var u=r(d[3]).createProfilingEvent(_,s,f);u&&t.push(u)}else('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[4]).logger.log(`[Profiling] Could not retrieve profile for transaction: ${_}`)}else('undefined'==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r(d[4]).logger.log('[Profiling] cannot find profile for a transaction without a profile context')}r(d[3]).addProfilesToEnvelope(n,t)}}}))):r(d[4]).logger.warn('[Profiling] Client does not support hooks, profiling will be disabled')}}],[{key:"__initStatic",value:function(){this.id='BrowserProfilingIntegration'}}]),n})();n.__initStatic(),e.BrowserProfilingIntegration=n}),584,[451,452,582,583,426]);