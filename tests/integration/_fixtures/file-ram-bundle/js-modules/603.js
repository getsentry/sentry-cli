__d((function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.NATIVE=void 0;var e=r(d[0])(r(d[1])),t=r(d[0])(r(d[2])),n=r(d[3]),o=(0,r(d[4]).isTurboModuleEnabled)()?n.TurboModuleRegistry.get('RNSentry'):n.NativeModules.RNSentry,s={fetchModules:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){if(!this.enableNative)throw this._DisabledNativeError;if(!this._isModuleLoaded(o))throw this._NativeClientError;var e=yield o.fetchModules();return e?JSON.parse(e):null}))},sendEnvelope:function(n){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){if(this.enableNative){if(!this._isModuleLoaded(o))throw this._NativeClientError;var s=(0,r(d[7]).utf8ToBytes)('\n'),l=(0,t.default)(s,1)[0],v=(0,t.default)(n,2),u=v[0],h=v[1],f=JSON.stringify(u),c=(0,r(d[7]).utf8ToBytes)(f);c.push(l);var N=!1;for(var _ of h){var b,w=this._processItem(_),p=(0,t.default)(w,2),y=p[0],E=p[1],S=void 0,L=[];'string'==typeof E?(S='text/plain',L=(0,r(d[7]).utf8ToBytes)(E)):E instanceof Uint8Array?(S='string'==typeof y.content_type?y.content_type:'application/octet-stream',L=(0,e.default)(E)):(S='application/json',L=(0,r(d[7]).utf8ToBytes)(JSON.stringify(E)),N||(N=(0,r(d[8]).isHardCrash)(E))),y.content_type=S,y.length=L.length;var M=JSON.stringify(y);(b=c).push.apply(b,(0,e.default)((0,r(d[7]).utf8ToBytes)(M))),c.push(l),(c=c.concat(L)).push(l)}yield o.captureEnvelope(c,{store:N})}else r(d[6]).logger.warn('Event was skipped as native SDK is not enabled.')}))},initNativeSdk:function(e){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){var t=Object.assign({enableNative:!0,autoInitializeNativeSdk:!0},e);if(!t.enableNative)return t.enableNativeNagger&&r(d[6]).logger.warn('Note: Native Sentry SDK is disabled.'),this.enableNative=!1,!1;if(!t.autoInitializeNativeSdk)return t.enableNativeNagger&&r(d[6]).logger.warn('Note: Native Sentry SDK was not initialized automatically, you will need to initialize it manually. If you wish to disable the native SDK and get rid of this warning, pass enableNative: false'),this.enableNative=!0,!1;if(!t.dsn)return r(d[6]).logger.warn('Warning: No DSN was provided. The Sentry SDK will be disabled. Native SDK will also not be initalized.'),this.enableNative=!1,!1;if(!this._isModuleLoaded(o))throw this._NativeClientError;t.beforeSend,t.beforeBreadcrumb,t.beforeSendTransaction,t.integrations;var n=(0,r(d[5]).__rest)(t,["beforeSend","beforeBreadcrumb","beforeSendTransaction","integrations"]),s=yield o.initNativeSdk(n);return this.nativeIsReady=s,this.enableNative=!0,s}))},fetchNativeRelease:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){if(!this.enableNative)throw this._DisabledNativeError;if(!this._isModuleLoaded(o))throw this._NativeClientError;return o.fetchNativeRelease()}))},fetchNativeSdkInfo:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){if(!this.enableNative)throw this._DisabledNativeError;if(!this._isModuleLoaded(o))throw this._NativeClientError;return o.fetchNativeSdkInfo()}))},fetchNativeDeviceContexts:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){if(!this.enableNative)throw this._DisabledNativeError;if(!this._isModuleLoaded(o))throw this._NativeClientError;return o.fetchNativeDeviceContexts()}))},fetchNativeAppStart:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){return this.enableNative?this._isModuleLoaded(o)?o.fetchNativeAppStart():(r(d[6]).logger.error(this._NativeClientError),null):(r(d[6]).logger.warn(this._DisabledNativeError),null)}))},fetchNativeFrames:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){if(!this.enableNative)throw this._DisabledNativeError;if(!this._isModuleLoaded(o))throw this._NativeClientError;return o.fetchNativeFrames()}))},nativeCrash:function(){if(this.enableNative){if(!this._isModuleLoaded(o))throw this._NativeClientError;o.crash()}},setUser:function(e){if(this.enableNative){if(!this._isModuleLoaded(o))throw this._NativeClientError;var t=null,n=null;if(e){var s=e.id,l=e.ip_address,v=e.email,u=e.username,h=e.segment,f=(0,r(d[5]).__rest)(e,["id","ip_address","email","username","segment"]),c={id:s,ip_address:l,email:v,username:u,segment:h};t=this._serializeObject(c),n=this._serializeObject(f)}o.setUser(t,n)}},setTag:function(e,t){if(this.enableNative){if(!this._isModuleLoaded(o))throw this._NativeClientError;var n='string'==typeof t?t:JSON.stringify(t);o.setTag(e,n)}},setExtra:function(e,t){if(this.enableNative){if(!this._isModuleLoaded(o))throw this._NativeClientError;var n='string'==typeof t?t:JSON.stringify(t);o.setExtra(e,n)}},addBreadcrumb:function(e){if(this.enableNative){if(!this._isModuleLoaded(o))throw this._NativeClientError;o.addBreadcrumb(Object.assign(Object.assign({},e),{level:e.level?this._processLevel(e.level):void 0}))}},clearBreadcrumbs:function(){if(this.enableNative){if(!this._isModuleLoaded(o))throw this._NativeClientError;o.clearBreadcrumbs()}},setContext:function(e,t){if(this.enableNative){if(!this._isModuleLoaded(o))throw this._NativeClientError;o.setContext(e,null!==t?(0,r(d[6]).normalize)(t):null)}},closeNativeSdk:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){var e=this;if(this.enableNative&&this._isModuleLoaded(o))return o.closeNativeSdk().then((function(){e.enableNative=!1}))}))},disableNativeFramesTracking:function(){this.enableNative&&this._isModuleLoaded(o)&&o.disableNativeFramesTracking()},enableNativeFramesTracking:function(){this.enableNative&&this._isModuleLoaded(o)&&o.enableNativeFramesTracking()},isNativeAvailable:function(){return this._isModuleLoaded(o)},captureScreenshot:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){if(!this.enableNative)return r(d[6]).logger.warn(this._DisabledNativeError),null;if(!this._isModuleLoaded(o))return r(d[6]).logger.error(this._NativeClientError),null;var e;try{e=yield o.captureScreenshot()}catch(e){r(d[6]).logger.warn('Failed to capture screenshot',e)}return e?e.map((function(e){return Object.assign(Object.assign({},e),{data:new Uint8Array(e.data)})})):null}))},fetchViewHierarchy:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){if(!this.enableNative)throw this._DisabledNativeError;if(!this._isModuleLoaded(o))throw this._NativeClientError;var e=yield o.fetchViewHierarchy();return e?new Uint8Array(e):null}))},startProfiling:function(){if(!this.enableNative)throw this._DisabledNativeError;if(!this._isModuleLoaded(o))throw this._NativeClientError;var e=o.startProfiling(),t=e.started,n=e.error;return t?r(d[6]).logger.log('[NATIVE] Start Profiling'):r(d[6]).logger.error('[NATIVE] Start Profiling Failed',n),!!t},stopProfiling:function(){if(!this.enableNative)throw this._DisabledNativeError;if(!this._isModuleLoaded(o))throw this._NativeClientError;var e=o.stopProfiling(),t=e.profile,n=e.error;if(!t||n)return r(d[6]).logger.error('[NATIVE] Stop Profiling Failed',n),null;try{return JSON.parse(t)}catch(e){return r(d[6]).logger.error('[NATIVE] Failed to parse Hermes Profile JSON',e),null}},fetchNativePackageName:function(){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){return this.enableNative&&this._isModuleLoaded(o)&&(yield o.fetchNativePackageName())||null}))},fetchNativeStackFramesBy:function(e){return(0,r(d[5]).__awaiter)(this,void 0,void 0,(function*(){return this.enableNative&&this._isModuleLoaded(o)&&(yield o.fetchNativeStackFramesBy(e))||null}))},_processItem:function(e){var n=(0,t.default)(e,2),o=n[0],l=n[1];if('event'==o.type||'transaction'==o.type){var v=this._processLevels(l);return'android'===s.platform&&'message'in v&&(v.message={message:v.message}),[o,v]}return e},_serializeObject:function(e){var t={};return Object.keys(e).forEach((function(n){var o=e[n];t[n]='string'==typeof o?o:JSON.stringify(o)})),t},_processLevels:function(e){var t,n=this;return Object.assign(Object.assign({},e),{level:e.level?this._processLevel(e.level):void 0,breadcrumbs:null===(t=e.breadcrumbs)||void 0===t?void 0:t.map((function(e){return Object.assign(Object.assign({},e),{level:e.level?n._processLevel(e.level):void 0})}))})},_processLevel:function(e){return'log'==e?'debug':e},_isModuleLoaded:function(e){return!!e},_DisabledNativeError:new(r(d[6]).SentryError)('Native is disabled'),_NativeClientError:new(r(d[6]).SentryError)("Native Client is not available, can't start on native."),enableNative:!0,nativeIsReady:!1,platform:n.Platform.OS};_e.NATIVE=s}),603,[598,429,439,7,604,602,426,607,610]);