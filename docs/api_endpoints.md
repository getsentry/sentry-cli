### Sentry API endpoints used by sentry-cli

This document lists the HTTP endpoints sentry-cli can call. It is generated by static analysis of `src/api/` plus known absolute-URL calls. For each entry:

- method: HTTP method
- path_template: Relative path template (or absolute URL) with placeholders
- location: Rust function where the request is made
- region_aware: Whether the request can be routed to a region-specific base URL
- absolute: Whether the request uses an absolute URL (bypassing auth/base)
- notes: Pagination, query params, and other semantics

Notes on routing:
- Region-aware requests use `RegionSpecificApi` or explicitly call `Api::request(..., Some(region_url))`. Otherwise they use the configured base URL.
- Absolute URLs are passed verbatim; auth is disabled unless explicitly added.

#### Authentication and user info
- method: GET
  - path_template: `/`
  - location: `api::AuthenticatedApi::get_auth_info`
  - region_aware: no
  - absolute: no
  - notes: Returns auth/user info

- method: GET
  - path_template: `/users/me/regions/`
  - location: `api::AuthenticatedApi::list_available_regions`
  - region_aware: no
  - absolute: no
  - notes: May be 404 on self-hosted; returns `[]` then

#### Organizations
- method: GET
  - path_template: `/organizations/?cursor={cursor}`
  - location: `api::AuthenticatedApi::list_organizations`
  - region_aware: yes
  - absolute: no
  - notes: Paginates via `link` header; 400 or 404 ends pagination

- method: GET
  - path_template: `/organizations/{org}/region/`
  - location: `api::AuthenticatedApi::get_region_url`
  - region_aware: no
  - absolute: no
  - notes: Returns region URL for an org

#### Projects
- method: GET
  - path_template: `/organizations/{org}/projects/?cursor={cursor}`
  - location: `api::AuthenticatedApi::list_organization_projects`
  - region_aware: no
  - absolute: no
  - notes: Paginated

#### Monitors
- method: GET
  - path_template: `/organizations/{org}/monitors/?cursor={cursor}`
  - location: `api::AuthenticatedApi::list_organization_monitors`
  - region_aware: no
  - absolute: no
  - notes: Paginated

#### Repositories
- method: GET
  - path_template: `/organizations/{org}/repos/?cursor={cursor}`
  - location: `api::AuthenticatedApi::list_organization_repos`
  - region_aware: no
  - absolute: no
  - notes: Paginated; 404 ends iteration

#### Releases
- method: POST
  - path_template: `/projects/{org}/{project}/releases/`
  - location: `api::AuthenticatedApi::new_release`
  - region_aware: no
  - absolute: no
  - notes: Legacy single-project endpoint

- method: POST
  - path_template: `/organizations/{org}/releases/`
  - location: `api::AuthenticatedApi::new_release`
  - region_aware: no
  - absolute: no

- method: PUT
  - path_template: `/projects/{org}/{project}/releases/{version}/`
  - location: `api::AuthenticatedApi::update_release`
  - region_aware: no
  - absolute: no

- method: POST
  - path_template: `/organizations/{org}/releases/`
  - location: `api::AuthenticatedApi::update_release` (if version is updated)
  - region_aware: no
  - absolute: no
  - notes: Creates a replacement when updating version

- method: PUT
  - path_template: `/organizations/{org}/releases/{version}/`
  - location: `api::AuthenticatedApi::update_release`, `set_release_refs`
  - region_aware: no
  - absolute: no

- method: DELETE
  - path_template: `/projects/{org}/{project}/releases/{version}/`
  - location: `api::AuthenticatedApi::delete_release`
  - region_aware: no
  - absolute: no

- method: DELETE
  - path_template: `/organizations/{org}/releases/{version}/`
  - location: `api::AuthenticatedApi::delete_release`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/projects/{org}/{project}/releases/{version}/`
  - location: `api::AuthenticatedApi::get_release`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/organizations/{org}/releases/{version}/`
  - location: `api::AuthenticatedApi::get_release`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/projects/{org}/{project}/releases/`
  - location: `api::AuthenticatedApi::list_releases`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/organizations/{org}/releases/`
  - location: `api::AuthenticatedApi::list_releases`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/projects/{org}/{project}/releases/{version}/commits/`
  - location: `api::AuthenticatedApi::get_release_commits`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/organizations/{org}/releases/{version}/commits/`
  - location: `api::AuthenticatedApi::get_release_commits`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/organizations/{org}/releases/{version}/previous-with-commits/`
  - location: `api::AuthenticatedApi::get_previous_release_with_commits`
  - region_aware: no
  - absolute: no

#### Release files (artifacts)
- method: GET
  - path_template: `/projects/{org}/{project}/releases/{release}/files/?cursor={cursor}&checksum={checksum}...`
  - location: `api::AuthenticatedApi::list_release_files_by_checksum`
  - region_aware: no
  - absolute: no
  - notes: Appends multiple `checksum` query params if total length <= 16k

- method: GET
  - path_template: `/organizations/{org}/releases/{release}/files/?cursor={cursor}&checksum={checksum}...`
  - location: `api::AuthenticatedApi::list_release_files_by_checksum`
  - region_aware: no
  - absolute: no

- method: GET (download)
  - path_template: `/projects/{org}/{project}/releases/{version}/files/{file_id}/?download=1`
  - location: `api::AuthenticatedApi::get_release_file`
  - region_aware: no
  - absolute: no

- method: GET (download)
  - path_template: `/organizations/{org}/releases/{version}/files/{file_id}/?download=1`
  - location: `api::AuthenticatedApi::get_release_file`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/projects/{org}/{project}/releases/{version}/files/{file_id}/`
  - location: `api::AuthenticatedApi::get_release_file_metadata`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/organizations/{org}/releases/{version}/files/{file_id}/`
  - location: `api::AuthenticatedApi::get_release_file_metadata`
  - region_aware: no
  - absolute: no

- method: DELETE
  - path_template: `/projects/{org}/{project}/releases/{version}/files/{file_id}/`
  - location: `api::AuthenticatedApi::delete_release_file`
  - region_aware: no
  - absolute: no

- method: DELETE
  - path_template: `/organizations/{org}/releases/{version}/files/{file_id}/`
  - location: `api::AuthenticatedApi::delete_release_file`
  - region_aware: no
  - absolute: no

- method: DELETE
  - path_template: `/projects/{org}/{project}/files/source-maps/?name={version}`
  - location: `api::AuthenticatedApi::delete_release_files`
  - region_aware: no
  - absolute: no

- method: DELETE
  - path_template: `/organizations/{org}/files/source-maps/?name={version}`
  - location: `api::AuthenticatedApi::delete_release_files`
  - region_aware: no
  - absolute: no

- method: POST (multipart)
  - path_template: `/projects/{org}/{project}/releases/{release}/files/`
  - location: `api::RegionSpecificApi::upload_release_file`
  - region_aware: yes
  - absolute: no

- method: POST (multipart)
  - path_template: `/organizations/{org}/releases/{release}/files/`
  - location: `api::RegionSpecificApi::upload_release_file`
  - region_aware: yes
  - absolute: no

#### Deploys
- method: POST
  - path_template: `/organizations/{org}/releases/{version}/deploys/`
  - location: `api::AuthenticatedApi::create_deploy`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/organizations/{org}/releases/{version}/deploys/`
  - location: `api::AuthenticatedApi::list_deploys`
  - region_aware: no
  - absolute: no

#### Issues
- method: PUT
  - path_template: `/projects/{org}/{project}/issues/?{query_string}`
  - location: `api::AuthenticatedApi::bulk_update_issue`
  - region_aware: no
  - absolute: no
  - notes: Query string built from `IssueFilter`

#### Events and logs
- method: GET
  - path_template: `/projects/{org}/{project}/events/?cursor={cursor}`
  - location: `api::AuthenticatedApi::list_organization_project_events`
  - region_aware: no
  - absolute: no
  - notes: Paginates; `max_pages` client-side limit

- method: GET
  - path_template: `/organizations/{org}/events/?{params}`
  - location: `api::AuthenticatedApi::fetch_organization_events`
  - region_aware: no
  - absolute: no
  - notes: Dataset-backed (e.g., `dataset=logs`), multiple `field` params, optional `cursor`, `project`

- method: GET
  - path_template: `/projects/{org}/{project}/issues/?query={query}&cursor={cursor}`
  - location: `api::AuthenticatedApi::list_organization_project_issues`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/projects/{org}/{project}/events/{event_id}/json/`
  - location: `api::AuthenticatedApi::get_event`
  - region_aware: no
  - absolute: no

- method: GET
  - path_template: `/organizations/{org}/events/{event_id}/json/`
  - location: `api::AuthenticatedApi::get_event`
  - region_aware: no
  - absolute: no

#### Debug information files (DIFs) and chunk upload
- method: GET
  - path_template: `/projects/{org}/{project}/files/dsyms/unknown/?checksums={checksum}...`
  - location: `api::AuthenticatedApi::find_missing_dif_checksums`
  - region_aware: no
  - absolute: no
  - notes: Multiple `checksums` params appended

- method: GET
  - path_template: `/organizations/{org}/chunk-upload/`
  - location: `api::AuthenticatedApi::get_chunk_upload_options`
  - region_aware: no
  - absolute: no
  - notes: Returns server-provided absolute upload URL

- method: POST (multipart)
  - path_template: `<server-provided absolute URL>`
  - location: `api::Api::upload_chunks`
  - region_aware: n/a
  - absolute: yes
  - notes: Authorization header is forced back on before sending

- method: POST (multipart)
  - path_template: `/projects/{org}/{project}/files/dsyms/`
  - location: `api::RegionSpecificApi::upload_dif_archive`
  - region_aware: yes
  - absolute: no

#### Artifact assembly
- method: POST
  - path_template: `/projects/{org}/{project}/files/difs/assemble/`
  - location: `api::AuthenticatedApi::assemble_difs`
  - region_aware: no
  - absolute: no

- method: POST
  - path_template: `/organizations/{org}/releases/{release}/assemble/`
  - location: `api::AuthenticatedApi::assemble_release_artifacts`
  - region_aware: no
  - absolute: no

- method: POST
  - path_template: `/organizations/{org}/artifactbundle/assemble/`
  - location: `api::AuthenticatedApi::assemble_artifact_bundle`
  - region_aware: no
  - absolute: no

- method: POST
  - path_template: `/projects/{org}/{project}/files/preprodartifacts/assemble/`
  - location: `api::AuthenticatedApi::assemble_build`
  - region_aware: no
  - absolute: no

#### Proguard
- method: POST
  - path_template: `/projects/{org}/{project}/files/proguard-artifact-releases`
  - location: `api::AuthenticatedApi::associate_proguard_mappings`
  - region_aware: no
  - absolute: no

#### Region-specific uploads (wrapper)
- method: POST (multipart)
  - path_template: `/projects/{org}/{project}/files/dsyms/`
  - location: `api::RegionSpecificApi::upload_dif_archive`
  - region_aware: yes
  - absolute: no

#### Ingest (Envelopes API)
- method: POST
  - path_template: `https://{ingest-host}/api/{project_id}/envelope/`
  - location: `api::envelopes_api::EnvelopesApi::send_envelope`
  - region_aware: n/a
  - absolute: yes
  - notes: DSN-derived host; uses `X-Sentry-Auth` header instead of Bearer token

#### Absolute URLs (non-Sentry services)
- method: GET
  - path_template: `https://release-registry.services.sentry.io/apps/sentry-cli/latest`
  - location: `api::Api::get_latest_sentrycli_release`
  - region_aware: n/a
  - absolute: yes
  - notes: Checks for latest sentry-cli binary; returns `file_urls`

- method: GET (download)
  - path_template: `{react-native-packager-url}/index.ios.bundle?platform=ios&dev=true`
  - location: `commands::react_native::xcode::execute`
  - region_aware: n/a
  - absolute: yes
  - notes: External RN packager; only when `--allow-fetch` and simulator detected

- method: GET (download)
  - path_template: `{react-native-packager-url}/index.ios.map?platform=ios&dev=true`
  - location: `commands::react_native::xcode::execute`
  - region_aware: n/a
  - absolute: yes
  - notes: External RN packager; only when `--allow-fetch`

